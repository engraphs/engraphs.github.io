<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <meta charset="utf-8" />
  <meta name="robots" content="noindex,nofollow" />
  <title>TSPC a_history_of_qed</title>
  <style type="text/css">
  a:hover {
    background-color: #ddbbbb; color: black;
  }
  </style>
</head>
<body>
<p><a href="index.html">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<b>a_history_of_qed</b><table border="0" cellpadding="4px">
  <tr>
    <th align="left">title</th>
    <td>
An incomplete history of the QED Text Editor
    </td>
  </tr>
  <tr>
    <th align="left">author</th>
    <td>
Dennis Ritchie.
    </td>
  </tr>
  <tr>
    <th align="left">source</th>
    <td>
<a href="https://www.bell-labs.com/usr/dmr/www/qed.html" target="_blank">https://www.bell-labs.com/usr/dmr/www/qed.html</a>
    </td>
  </tr>
</table>
<br>
<table border="1" cellpadding="4px">
  <tr>
    <td><a name="1"></a><a href="a_history_of_qed/1_a_history_of_qed.html">1</a></td><td>An incomplete history of the QED Text Editor</td>
  </tr>
  <tr>
    <td><a name="2"></a><a href="a_history_of_qed/2_a_history_of_qed.html">2</a></td><td>Dennis Ritchie</td>
  </tr>
  <tr>
    <td><a name="3"></a><a href="a_history_of_qed/3_a_history_of_qed.html">3</a></td><td>The text editors ed and vi, still much - used on Unix systems and elsewhere, have a long history, some bits of which are recounted here.</td>
  </tr>
  <tr>
    <td><a name="4"></a><a href="a_history_of_qed/4_a_history_of_qed.html">4</a></td><td>The QED text editor was first written by Butler Lampson and Peter Deutsch for the Berkeley time - sharing system on the SDS 940; see their paper in C. ACM 10 &lt;num&gt; 12 (December, 1967).</td>
  </tr>
  <tr>
    <td><a name="5"></a><a href="a_history_of_qed/5_a_history_of_qed.html">5</a></td><td>Ken Thompson used this QED at Berkeley before he came to Bell Labs, and among the first things he did on arriving was to write a new version for the MIT CTSS system.</td>
  </tr>
  <tr>
    <td><a name="6"></a><a href="a_history_of_qed/6_a_history_of_qed.html">6</a></td><td>Written in IBM 7090 assembly language, it differed from the Berkeley version most notably in introducing regular expressions for specifying strings to seek within the document being edited, and to specify a substring for which a substitution should be made.</td>
  </tr>
  <tr>
    <td><a name="7"></a><a href="a_history_of_qed/7_a_history_of_qed.html">7</a></td><td>Until that time, text editors could search for a literal string, and substitute for one, but not specify more general strings.</td>
  </tr>
  <tr>
    <td><a name="8"></a><a href="a_history_of_qed/8_a_history_of_qed.html">8</a></td><td>Ken not only introduced a new idea, he found an inventive implementation: on - the - fly compiling.</td>
  </tr>
  <tr>
    <td><a name="9"></a><a href="a_history_of_qed/9_a_history_of_qed.html">9</a></td><td>Ken's QED compiled machine code for each regular expression that created a NDFA (non - deterministic finite automaton) to do the search.</td>
  </tr>
  <tr>
    <td><a name="10"></a><a href="a_history_of_qed/10_a_history_of_qed.html">10</a></td><td>He published this in C. ACM 11 &lt;num&gt; 6, and also received a patent for the technique: US Patent &lt;num&gt; 3568156.</td>
  </tr>
  <tr>
    <td><a name="11"></a><a href="a_history_of_qed/11_a_history_of_qed.html">11</a></td><td>(Who said you couldn't get a software patent until recently?)</td>
  </tr>
  <tr>
    <td><a name="12"></a><a href="a_history_of_qed/12_a_history_of_qed.html">12</a></td><td>While the Berkeley QED was character - oriented, the CTSS version was line - oriented.</td>
  </tr>
  <tr>
    <td><a name="13"></a><a href="a_history_of_qed/13_a_history_of_qed.html">13</a></td><td>Ken's CTSS qed adopted from the Berkeley one the notion of multiple buffers to edit several files simultaneously and to move and copy text among them, and also the idea of executing a given buffer as editor commands, thus providing programmability.</td>
  </tr>
  <tr>
    <td><a name="14"></a><a href="a_history_of_qed/14_a_history_of_qed.html">14</a></td><td>(TECO, which grew into Emacs, was approximately contemporaneous or just a bit later, and elaborated these ideas independently).</td>
  </tr>
  <tr>
    <td><a name="15"></a><a href="a_history_of_qed/15_a_history_of_qed.html">15</a></td><td>CTSS was used at Bell Labs as part of our participation in the Multics project, and as Ken began to use Multics, he wrote yet another version of QED for that system.</td>
  </tr>
  <tr>
    <td><a name="16"></a><a href="a_history_of_qed/16_a_history_of_qed.html">16</a></td><td>This one was in BCPL, and instead of compiling to machine code, regular expressions were represented as trees that were interpreted by the editor.</td>
  </tr>
  <tr>
    <td><a name="17"></a><a href="a_history_of_qed/17_a_history_of_qed.html">17</a></td><td>However, the basic technique of simulating an NDFA was still used.</td>
  </tr>
  <tr>
    <td><a name="18"></a><a href="a_history_of_qed/18_a_history_of_qed.html">18</a></td><td>During the same period (ca. 1967), I arrived at Bell Labs, and fairly soon thereafter the company began withdrawing from Multics.</td>
  </tr>
  <tr>
    <td><a name="19"></a><a href="a_history_of_qed/19_a_history_of_qed.html">19</a></td><td>Unix was at first nonexistent and then embryonic, and the main computation resource was GE - TSS, GE's time - sharing system for GECOS.</td>
  </tr>
  <tr>
    <td><a name="20"></a><a href="a_history_of_qed/20_a_history_of_qed.html">20</a></td><td>I liked QED, and so set out to write a version of it for this system.</td>
  </tr>
  <tr>
    <td><a name="21"></a><a href="a_history_of_qed/21_a_history_of_qed.html">21</a></td><td>This, like Ken's CTSS QED, was written in assembly language and compiled its regular expressions to machine code.</td>
  </tr>
  <tr>
    <td><a name="22"></a><a href="a_history_of_qed/22_a_history_of_qed.html">22</a></td><td>This version was described in an internal technical memo, which is obtainable either in a slightly cut - down HTML browsable format, or reproduced as a scanned (and big: 1.1 MB) PDF image.</td>
  </tr>
  <tr>
    <td><a name="23"></a><a href="a_history_of_qed/23_a_history_of_qed.html">23</a></td><td>I wrote some incomplete notes of this QED's internal workings.</td>
  </tr>
  <tr>
    <td><a name="24"></a><a href="a_history_of_qed/24_a_history_of_qed.html">24</a></td><td>This was intended to be a published paper, but was never finished.</td>
  </tr>
  <tr>
    <td><a name="25"></a><a href="a_history_of_qed/25_a_history_of_qed.html">25</a></td><td>This QED was probably the most baroque and complicated of all its manifestations, particularly in pushing &ldquo;regular expressions&rdquo; well beyond what Kleene thought they should do.</td>
  </tr>
  <tr>
    <td><a name="26"></a><a href="a_history_of_qed/26_a_history_of_qed.html">26</a></td><td>Other and later offspring of QED and its predecessors kept the central ideas, but were considerably simpler.</td>
  </tr>
  <tr>
    <td><a name="27"></a><a href="a_history_of_qed/27_a_history_of_qed.html">27</a></td><td>For a brief period in the 1970s, the GECOS QED served us as a scripting language; it was in some ways analogous to the Awk or Perl of today.</td>
  </tr>
  <tr>
    <td><a name="28"></a><a href="a_history_of_qed/28_a_history_of_qed.html">28</a></td><td>It was used for such tasks as submitting batch jobs, formatting files for the printer, collecting statistics on a file.</td>
  </tr>
  <tr>
    <td><a name="29"></a><a href="a_history_of_qed/29_a_history_of_qed.html">29</a></td><td>A collection of macros to do various useful tasks was put in a commonly available place.</td>
  </tr>
  <tr>
    <td><a name="30"></a><a href="a_history_of_qed/30_a_history_of_qed.html">30</a></td><td>By 1974, Jay Michlin at Bell Labs wrote a version approximating this rendition for the IBM TSO system, and it was used at the Labs locations using IBM hardware and software.</td>
  </tr>
  <tr>
    <td><a name="31"></a><a href="a_history_of_qed/31_a_history_of_qed.html">31</a></td><td>It seems that this version (or perhaps another reimplementation) was released: I have the first few pages of a document, courtesy of Joshua Ryan, that were used as &ldquo;TSO Short Course Notes&rdquo; at University of Missouri -- Columbia.</td>
  </tr>
  <tr>
    <td><a name="32"></a><a href="a_history_of_qed/32_a_history_of_qed.html">32</a></td><td>These discuss BQED, &ldquo;an editor developed at Bell Labs....</td>
  </tr>
  <tr>
    <td><a name="33"></a><a href="a_history_of_qed/33_a_history_of_qed.html">33</a></td><td>BQED actually has fewer general - purpose commands than EDIT.... many of these concisely - stated commands can not be performed by the other editors.&rdquo;</td>
  </tr>
  <tr>
    <td><a name="34"></a><a href="a_history_of_qed/34_a_history_of_qed.html">34</a></td><td>(Ryan's UMC notes also talk about an apparently unrelated QED, for &ldquo;Quick Edit&rdquo;).</td>
  </tr>
  <tr>
    <td><a name="35"></a><a href="a_history_of_qed/35_a_history_of_qed.html">35</a></td><td>Offspring</td>
  </tr>
  <tr>
    <td><a name="36"></a><a href="a_history_of_qed/36_a_history_of_qed.html">36</a></td><td>The &ldquo;standard Unix editor&rdquo; ed was first written by Ken Thompson for the PDP.</td>
  </tr>
  <tr>
    <td><a name="37"></a><a href="a_history_of_qed/37_a_history_of_qed.html">37</a></td><td>It kept the basic text - line orientation, but radically simplified the regular expressions to include only the operator: no alternation, no parentheses.</td>
  </tr>
  <tr>
    <td><a name="38"></a><a href="a_history_of_qed/38_a_history_of_qed.html">38</a></td><td>Where my QED embraced much of the context - free languages, this version could not even express all regular languages.</td>
  </tr>
  <tr>
    <td><a name="39"></a><a href="a_history_of_qed/39_a_history_of_qed.html">39</a></td><td>It was not much of a loss.</td>
  </tr>
  <tr>
    <td><a name="40"></a><a href="a_history_of_qed/40_a_history_of_qed.html">40</a></td><td>Similarly, Ken's Unix ed ditched the notion of multiple buffers and of execution of buffers.</td>
  </tr>
  <tr>
    <td><a name="41"></a><a href="a_history_of_qed/41_a_history_of_qed.html">41</a></td><td>Subsequent versions of ed for Unix (now written in C) began to add back some of the complexity (e.g. back - referencing in &ldquo;regular&rdquo; expressions, which now didn't quite include all the regular languages nor context - free languages, but did intrude a bit on the context - sensitive languages.)</td>
  </tr>
  <tr>
    <td><a name="42"></a><a href="a_history_of_qed/42_a_history_of_qed.html">42</a></td><td>Subsequent developments along this line include vi, done mostly by Bill Joy at UC Berkeley.</td>
  </tr>
  <tr>
    <td><a name="43"></a><a href="a_history_of_qed/43_a_history_of_qed.html">43</a></td><td>According to George Coulouris, vi was based on (or at least inspired by) the em editor done at Queen Mary College in London.</td>
  </tr>
  <tr>
    <td><a name="44"></a><a href="a_history_of_qed/44_a_history_of_qed.html">44</a></td><td>The advance here was essentially to adapt the command - set of ed to a screen - editor format; instead of doing things on (possibly virtual) paper on a typewriter, vi keeps a current view of a piece of a document on the screen, while commands are typed on the bottom line.</td>
  </tr>
  <tr>
    <td><a name="45"></a><a href="a_history_of_qed/45_a_history_of_qed.html">45</a></td><td>Keeping a constantly updated window on a part of the text being edited is now, of course, completely standard and accepted.</td>
  </tr>
  <tr>
    <td><a name="46"></a><a href="a_history_of_qed/46_a_history_of_qed.html">46</a></td><td>The same program, under the name ex, works better on typewriter - like terminals; aside from some fancier commands and better diagnostics, it's essentially ed.</td>
  </tr>
  <tr>
    <td><a name="47"></a><a href="a_history_of_qed/47_a_history_of_qed.html">47</a></td><td>The current local state of the QED line of descent is exemplified by sam, by Rob Pike (see his &ldquo;The Text Editor sam,&rdquo; in Software -- Practice and Experience 17 &lt;num&gt; 11, Nov. 1987).</td>
  </tr>
  <tr>
    <td><a name="48"></a><a href="a_history_of_qed/48_a_history_of_qed.html">48</a></td><td>It's available for FTP in both Unix and Windows versions; search for &ldquo;sam editor&rdquo; on netlib.</td>
  </tr>
  <tr>
    <td><a name="49"></a><a href="a_history_of_qed/49_a_history_of_qed.html">49</a></td><td>Sam offers cut - and - paste, mouse - and - menu editing on its text windows together with a command window, the language of which is drawn from the QED line of descent.</td>
  </tr>
  <tr>
    <td><a name="50"></a><a href="a_history_of_qed/50_a_history_of_qed.html">50</a></td><td>The current implementation of regular expressions in Bell Labs research software uses algorithms close to those in Ken's CTSS and Multics versions, particularly the latter, because they don't try to compile to machine code.</td>
  </tr>
  <tr>
    <td><a name="51"></a><a href="a_history_of_qed/51_a_history_of_qed.html">51</a></td><td>They have been elaborated somewhat in that they deal with a very large character set (Unicode), but they keep both the classical set of operators (&lt;star&gt;, &lt;pipe&gt;, concatenation, grouping for parentheses) and the NDFA simulation.</td>
  </tr>
  <tr>
    <td><a name="52"></a><a href="a_history_of_qed/52_a_history_of_qed.html">52</a></td><td>We've done some fairly elaborate versions of grep that construct DFAs dynamically on demand, use Boyer - Moore techniques for fast searching of fixed strings, and so on.</td>
  </tr>
  <tr>
    <td><a name="53"></a><a href="a_history_of_qed/53_a_history_of_qed.html">53</a></td><td>In the end simple and solid seems best.</td>
  </tr>
  <tr>
    <td><a name="54"></a><a href="a_history_of_qed/54_a_history_of_qed.html">54</a></td><td>Indeed, there have been many approximate reimplementations of ed, including a basic and didactic one by Kernighan and Plauger in Software Tools (1976), and eventually the expectable GNU version; there seems also to be a &ldquo;more user - friendly&rdquo; rendition called bole.</td>
  </tr>
  <tr>
    <td><a name="55"></a><a href="a_history_of_qed/55_a_history_of_qed.html">55</a></td><td>Going back to the 1970s, QED had other offspring.</td>
  </tr>
  <tr>
    <td><a name="56"></a><a href="a_history_of_qed/56_a_history_of_qed.html">56</a></td><td>Bob Daley wrote an editor called qedx in PL/1 for the Multics project.</td>
  </tr>
  <tr>
    <td><a name="57"></a><a href="a_history_of_qed/57_a_history_of_qed.html">57</a></td><td>See, for example, Tom Van Vleck's encyclopedic discussion of Multics things (this pointer being to things beginning with Q).</td>
  </tr>
  <tr>
    <td><a name="58"></a><a href="a_history_of_qed/58_a_history_of_qed.html">58</a></td><td>The tart comments about the rebarbativeness of QED as a scripting language are on the mark, though I don't think that Emacs is all that much better.</td>
  </tr>
  <tr>
    <td><a name="59"></a><a href="a_history_of_qed/59_a_history_of_qed.html">59</a></td><td>An offspring of qedx, ted, was later done by Jim Falksen of Honeywell and became a Multics product.</td>
  </tr>
  <tr>
    <td><a name="60"></a><a href="a_history_of_qed/60_a_history_of_qed.html">60</a></td><td>A traditional (and maybe the nicest) version of QED was done at the University of Toronto by Tom Duff, Rob Pike, Hugh Redelmeier, and David Tilbrook; it supports multiple buffers, execution of buffers, and regular expressions with back - referencing.</td>
  </tr>
  <tr>
    <td><a name="61"></a><a href="a_history_of_qed/61_a_history_of_qed.html">61</a></td><td>A more recent Canadian version, also a traditional - style descendant, is Fred, from Thinkage Ltd.</td>
  </tr>
  <tr>
    <td><a name="62"></a><a href="a_history_of_qed/62_a_history_of_qed.html">62</a></td><td>It, like various earlier versions, is available for Honeywell GCOS systems and is still used as a scripting language as well as a line - editor for TTY - like communications interfaces.</td>
  </tr>
</table>
<br>
<br>
<br>
</body>
</html>
